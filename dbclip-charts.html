<html>
  <head>
    <title>d3 test</title>
    <script type="text/javascript" src="./d3-v2.8.1.js"></script>
    <script type="text/javascript" src="./jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="./dbclip-charts.js"></script>
    <style type="text/css">
        .chart rect {
            fill: steelblue;
            stroke: white;
        }
    </style>
  </head>
  <body>
	<!--
	<div>
	  <input id="update-data" type="button" value="load data"></input>
	</div>
	-->
    <div id="chart-container" style="padding-left:100px"></div>
    <script type="text/javascript">
      var w = 800, h = 400;
	  
	  var data = [
	      { col1: '2001-01-01T00:00:00', col2: 'foo', col3: '12' },
	      { col1: '2001-01-02T00:00:00', col2: 'bar', col3: '13' },
	      { col1: '2001-01-03T00:00:00', col2: 'baz', col3: '15' },
	      { col1: '2001-01-04T00:00:00', col2: 'foo', col3: '11' },
	      { col1: '2001-01-05T00:00:00', col2: 'bar', col3: '19' },
	      { col1: '2001-01-06T00:00:00', col2: 'baz', col3: '18' },
	      { col1: '2001-01-07T00:00:00', col2: 'foo', col3: '14' },
	      { col1: '2001-01-08T00:00:00', col2: 'bar', col3: '17' },
	      { col1: '2001-01-09T00:00:00', col2: 'baz', col3: '10' },
	      { col1: '2001-01-10T00:00:00', col2: 'foo', col3: '8' },
	      { col1: '2001-01-11T00:00:00', col2: 'bar', col3: '22' },
	      { col1: '2001-01-12T00:00:00', col2: 'baz', col3: '21' },
	      { col1: '2001-01-13T00:01:00', col2: 'foo', col3: '20' },
	      { col1: '2001-01-14T00:01:00', col2: 'bar', col3: '14' },
	      { col1: '2001-01-15T00:01:00', col2: 'baz', col3: '15' },
	      { col1: '2001-01-16T00:01:00', col2: 'foo', col3: '17' },
	      { col1: '2001-01-17T00:01:00', col2: 'bar', col3: '19' },
	      { col1: '2001-01-18T00:01:00', col2: 'baz', col3: '20' },
	      { col1: '2001-01-19T00:01:00', col2: 'foo', col3: '11' },
	      { col1: '2001-01-20T00:01:00', col2: 'bar', col3: '15' }
	  ];
	  var massaged = massageData(data);
	  var metadata = determineTypes(massaged);
	  var specline = "bar"

	  var b = new BarChart(specline, metadata);
	  b.initialize("#chart-container", w, h);
	  b.load(massaged);
    </script>
  </body>
</html>
